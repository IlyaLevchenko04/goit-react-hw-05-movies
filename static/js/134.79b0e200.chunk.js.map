{"version":3,"file":"static/js/134.79b0e200.chunk.js","mappings":"6LAqGA,UA/Fe,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,QAArC,eAAOK,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAe,SAAAC,GACnBA,EAAEC,iBACFZ,EAASQ,EAAaK,IAAI,UAAY,GACvC,GAEDC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVf,EACF,OAAOC,EAASQ,EAAaK,IAAI,UAAY,IAE/CT,EAAU,WACVW,MAAM,qDAAD,OArBO,mCAqBP,iCACkFhB,EADlF,gCAGFiB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAT,IACTF,MAAK,YAAkB,IAAfG,EAAc,EAAdA,QACPjB,EAAWiB,GACXf,EAAU,WACX,GAEJ,GAAE,CAACL,IAwBJ,OACE,gCACc,SAAXI,IACC,kBAAMiB,SAAUV,EAAhB,WACE,kBACEW,MAAOb,EAAaK,IAAI,UAAY,GACpCS,KAAK,OACLC,SAAU,SAAAZ,GAAC,OAAIF,EAAgB,CAAEV,MAAOY,EAAEa,OAAOH,OAAtC,KAEb,0CAIQ,YAAXlB,IACC,qCAEE,kBAAMiB,SAAUV,EAAhB,WACE,kBACEW,MAAOb,EAAaK,IAAI,UAAY,GACpCS,KAAK,OACLC,SAAU,SAAAZ,GAAC,OAAIF,EAAgB,CAAEV,MAAOY,EAAEa,OAAOH,OAAtC,KAEb,2CAEF,sCAVF,OAcU,aAAXlB,IACC,iCACE,kBAAMiB,SAAUV,EAAhB,WACE,kBACEW,MAAOb,EAAaK,IAAI,UAAY,GACpCS,KAAK,OACLC,SAAU,SAAAZ,GAAC,OAAIF,EAAgB,CAAEV,MAAOY,EAAEa,OAAOH,OAAtC,KAEb,2CAEF,wBA3DNpB,EAAQwB,KAAI,YAAiC,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,YAAaC,EAAS,EAATA,GAC3BC,EAAc,yCAAqCF,GAUzD,OACE,yBACE,UAAC,EAAAG,KAAD,CAAMC,GAAE,kBAAaH,GAAMI,MAAO,CAAEC,KAAM5B,GAA1C,WACE,gBAAK6B,IATJP,QAA+BQ,IAAhBR,EAIbE,EALc,sCAUUO,IAAI,MAC/B,wBAAKV,QAHAE,EAOZ,WA6CJ,C","sources":["pages/Movies.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst API_KEY = 'cbdd4abbcb92dd438a6c3b40fc45e1be';\n// const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [apiResp, setApiResp] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setQuery(searchParams.get('query') || '');\n  };\n\n  useEffect(() => {\n    if (query === '') {\n      return setQuery(searchParams.get('query') || '');\n    }\n    setStatus('pending');\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n    )\n      .then(data => data.json())\n      .then(({ results }) => {\n        setApiResp(results);\n        setStatus('resolved');\n      });\n    // eslint-disable-next-line\n  }, [query]);\n\n  const render = () =>\n    apiResp.map(({ title, poster_path, id }) => {\n      const profilePicture = `https://image.tmdb.org/t/p/w500${poster_path}`;\n\n      const picturePicker = () => {\n        const defaultImage = 'https://i.stack.imgur.com/XFHxd.jpg';\n        if (!poster_path || poster_path === undefined) {\n          return defaultImage;\n        }\n\n        return profilePicture;\n      };\n      return (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            <img src={picturePicker()} alt=\"\" />\n            <h2>{title}</h2>\n          </Link>\n        </li>\n      );\n    });\n\n  return (\n    <>\n      {status === 'idle' && (\n        <form onSubmit={HandleSubmit}>\n          <input\n            value={searchParams.get('query') || ''}\n            type=\"text\"\n            onChange={e => setSearchParams({ query: e.target.value })}\n          />\n          <button>Search</button>\n        </form>\n      )}\n\n      {status === 'pending' && (\n        <>\n          (\n          <form onSubmit={HandleSubmit}>\n            <input\n              value={searchParams.get('query') || ''}\n              type=\"text\"\n              onChange={e => setSearchParams({ query: e.target.value })}\n            />\n            <button>Search</button>\n          </form>\n          <p>Loading...</p>)\n        </>\n      )}\n\n      {status === 'resolved' && (\n        <>\n          <form onSubmit={HandleSubmit}>\n            <input\n              value={searchParams.get('query') || ''}\n              type=\"text\"\n              onChange={e => setSearchParams({ query: e.target.value })}\n            />\n            <button>Search</button>\n          </form>\n          <ul>{render()}</ul>\n        </>\n      )}\n    </>\n  );\n};\nexport default Movies;\n"],"names":["useState","query","setQuery","apiResp","setApiResp","status","setStatus","location","useLocation","useSearchParams","searchParams","setSearchParams","HandleSubmit","e","preventDefault","get","useEffect","fetch","then","data","json","results","onSubmit","value","type","onChange","target","map","title","poster_path","id","profilePicture","Link","to","state","from","src","undefined","alt"],"sourceRoot":""}